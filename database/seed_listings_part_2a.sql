-- ============================================
-- SEED SAMPLE LISTINGS - PART 2A (Categories 7-9)
-- ============================================

DO $$
DECLARE
    v_owner_id UUID;
    v_sub_id UUID;
BEGIN
    SELECT id INTO v_owner_id FROM public.user_profiles WHERE role = 'owner' LIMIT 1;
    IF v_owner_id IS NULL THEN
        SELECT id INTO v_owner_id FROM public.user_profiles LIMIT 1;
    END IF;

    IF v_owner_id IS NOT NULL THEN

        -- 7. EVENT SPACES
        INSERT INTO public.listings (owner_id, category_id, subcategory_id, title, slug, description, price_per_day, images, status, location) VALUES
        (v_owner_id, '77777777-7777-7777-7777-777777777777', (SELECT id FROM public.subcategories WHERE slug = 'wedding-venues' LIMIT 1), 'Garden Venue', 'garden-venue-' || substring(md5(random()::text) from 1 for 6), 'Beautiful garden for weddings.', 50000, ARRAY['https://images.unsplash.com/photo-1519167758481-83f550bb49b3?auto=format&fit=crop&q=80&w=800'], 'approved', 'Karen, Nairobi'),
        (v_owner_id, '77777777-7777-7777-7777-777777777777', (SELECT id FROM public.subcategories WHERE slug = 'corporate-spaces' LIMIT 1), 'Conference Hall', 'conf-hall-' || substring(md5(random()::text) from 1 for 6), 'Seating for 500 pax.', 80000, ARRAY['https://images.unsplash.com/photo-1517457373958-b7bdd4587205?auto=format&fit=crop&q=80&w=800'], 'approved', 'Westlands, Nairobi'),
        (v_owner_id, '77777777-7777-7777-7777-777777777777', (SELECT id FROM public.subcategories WHERE slug = 'party-venues' LIMIT 1), 'Rooftop Lounge', 'rooftop-lounge-' || substring(md5(random()::text) from 1 for 6), 'Amazing city views.', 30000, ARRAY['https://images.unsplash.com/photo-1569617084133-26942bb441f2?auto=format&fit=crop&q=80&w=800'], 'approved', 'CBD, Nairobi'),
        (v_owner_id, '77777777-7777-7777-7777-777777777777', (SELECT id FROM public.subcategories WHERE slug = 'party-venues' LIMIT 1), 'Private Party Room', 'party-room-' || substring(md5(random()::text) from 1 for 6), 'Soundproof room for parties.', 15000, ARRAY['https://images.unsplash.com/photo-1530103862676-de3c9a59aa38?auto=format&fit=crop&q=80&w=800'], 'approved', 'Kilimani, Nairobi'),
        (v_owner_id, '77777777-7777-7777-7777-777777777777', (SELECT id FROM public.subcategories WHERE slug = 'studios-spaces' LIMIT 1), 'Art Gallery Space', 'art-gallery-' || substring(md5(random()::text) from 1 for 6), 'Exhibition space.', 20000, ARRAY['https://images.unsplash.com/photo-1460661419201-fd4cecdf8a8b?auto=format&fit=crop&q=80&w=800'], 'approved', 'Lavington, Nairobi'),
        (v_owner_id, '77777777-7777-7777-7777-777777777777', (SELECT id FROM public.subcategories WHERE slug = 'party-venues' LIMIT 1), 'Community Hall', 'community-hall-' || substring(md5(random()::text) from 1 for 6), 'Affordable event space.', 10000, ARRAY['https://images.unsplash.com/photo-1505373877841-8d25f7d46678?auto=format&fit=crop&q=80&w=800'], 'approved', 'South C, Nairobi'),
        (v_owner_id, '77777777-7777-7777-7777-777777777777', (SELECT id FROM public.subcategories WHERE slug = 'corporate-spaces' LIMIT 1), 'Meeting Room', 'meeting-room-' || substring(md5(random()::text) from 1 for 6), 'Professional boardroom.', 5000, ARRAY['https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&q=80&w=800'], 'approved', 'Upper Hill, Nairobi'),
        (v_owner_id, '77777777-7777-7777-7777-777777777777', (SELECT id FROM public.subcategories WHERE slug = 'studios-spaces' LIMIT 1), 'Video Studio', 'video-studio-' || substring(md5(random()::text) from 1 for 6), 'Green screen studio.', 12000, ARRAY['https://images.unsplash.com/photo-1598488035139-bdbb2231ce04?auto=format&fit=crop&q=80&w=800'], 'approved', 'Industrial Area, Nairobi'),
        (v_owner_id, '77777777-7777-7777-7777-777777777777', (SELECT id FROM public.subcategories WHERE slug = 'wedding-venues' LIMIT 1), 'Banquet Hall', 'banquet-hall-' || substring(md5(random()::text) from 1 for 6), 'For dinners and galas.', 40000, ARRAY['https://images.unsplash.com/photo-1560529178-855d648bd7d1?auto=format&fit=crop&q=80&w=800'], 'approved', 'Nyali, Mombasa'),
        (v_owner_id, '77777777-7777-7777-7777-777777777777', (SELECT id FROM public.subcategories WHERE slug = 'wedding-venues' LIMIT 1), 'Church Hall', 'church-hall-' || substring(md5(random()::text) from 1 for 6), 'Available for events.', 8000, ARRAY['https://images.unsplash.com/photo-1548625361-9872e45bf486?auto=format&fit=crop&q=80&w=800'], 'approved', 'Westlands, Nairobi');

        -- 8. PHOTOGRAPHY
        INSERT INTO public.listings (owner_id, category_id, subcategory_id, title, slug, description, price_per_day, images, status, location) VALUES
        (v_owner_id, '88888888-8888-8888-8888-888888888888', (SELECT id FROM public.subcategories WHERE slug = 'cameras' LIMIT 1), 'Sony A7III', 'sony-a7iii-' || substring(md5(random()::text) from 1 for 6), 'Full frame mirrorless.', 3000, ARRAY['https://images.unsplash.com/photo-1516035069371-29a1b244cc32?auto=format&fit=crop&q=80&w=800'], 'approved', 'CBD, Nairobi'),
        (v_owner_id, '88888888-8888-8888-8888-888888888888', (SELECT id FROM public.subcategories WHERE slug = 'tripods' LIMIT 1), 'DJI Ronin S', 'ronin-gimbal-' || substring(md5(random()::text) from 1 for 6), 'Camera stabilizer.', 1500, ARRAY['https://images.unsplash.com/photo-1617005082133-548c4dd27f35?auto=format&fit=crop&q=80&w=800'], 'approved', 'Westlands, Nairobi'),
        (v_owner_id, '88888888-8888-8888-8888-888888888888', (SELECT id FROM public.subcategories WHERE slug = 'lighting-photo' LIMIT 1), 'Softbox Lights', 'softbox-kit-' || substring(md5(random()::text) from 1 for 6), 'Lighting kit for portraits.', 1000, ARRAY['https://images.unsplash.com/photo-1527011046414-4781f1f94f8c?auto=format&fit=crop&q=80&w=800'], 'approved', 'Kilimani, Nairobi'),
        (v_owner_id, '88888888-8888-8888-8888-888888888888', (SELECT id FROM public.subcategories WHERE slug = 'lenses' LIMIT 1), 'Canon 70-200mm', 'canon-lens-' || substring(md5(random()::text) from 1 for 6), 'Telephoto lens.', 2500, ARRAY['https://images.unsplash.com/photo-1616423664033-63511d9c675b?auto=format&fit=crop&q=80&w=800'], 'approved', 'CBD, Nairobi'),
        (v_owner_id, '88888888-8888-8888-8888-888888888888', (SELECT id FROM public.subcategories WHERE slug = 'tripods' LIMIT 1), 'Tripod Manfrotto', 'tripod-manfrotto-' || substring(md5(random()::text) from 1 for 6), 'Sturdy video tripod.', 800, ARRAY['https://images.unsplash.com/photo-1500634245200-e5245c7574ef?auto=format&fit=crop&q=80&w=800'], 'approved', 'Lavington, Nairobi'),
        (v_owner_id, '88888888-8888-8888-8888-888888888888', (SELECT id FROM public.subcategories WHERE slug = 'tripods' LIMIT 1), 'Backdrop Stand', 'backdrop-stand-' || substring(md5(random()::text) from 1 for 6), 'Adjustable stand with green screen.', 600, ARRAY['https://images.unsplash.com/photo-1533158326339-b12a3422699c?auto=format&fit=crop&q=80&w=800'], 'approved', 'Ngong Road, Nairobi'),
        (v_owner_id, '88888888-8888-8888-8888-888888888888', (SELECT id FROM public.subcategories WHERE slug = 'lighting-photo' LIMIT 1), 'Speedlight Flash', 'speedlight-' || substring(md5(random()::text) from 1 for 6), 'External flash.', 500, ARRAY['https://images.unsplash.com/photo-1594823274228-59648943961b?auto=format&fit=crop&q=80&w=800'], 'approved', 'Westlands, Nairobi'),
        (v_owner_id, '88888888-8888-8888-8888-888888888888', (SELECT id FROM public.subcategories WHERE slug = 'photo-accessories' LIMIT 1), 'GoPro Dome', 'gopro-dome-' || substring(md5(random()::text) from 1 for 6), 'For underwater shots.', 400, ARRAY['https://images.unsplash.com/photo-1565849904461-04a58ad377e0?auto=format&fit=crop&q=80&w=800'], 'approved', 'Diani, Mombasa'),
        (v_owner_id, '88888888-8888-8888-8888-888888888888', (SELECT id FROM public.subcategories WHERE slug = 'lighting-photo' LIMIT 1), 'Reflector Disc', 'reflector-' || substring(md5(random()::text) from 1 for 6), '5-in-1 reflector.', 200, ARRAY['https://images.unsplash.com/photo-1452587925706-b6bf8fe96e7?auto=format&fit=crop&q=80&w=800'], 'approved', 'CBD, Nairobi'),
        (v_owner_id, '88888888-8888-8888-8888-888888888888', (SELECT id FROM public.subcategories WHERE slug = 'photo-accessories' LIMIT 1), 'Memory Cards', 'sd-cards-' || substring(md5(random()::text) from 1 for 6), '128GB high speed cards.', 300, ARRAY['https://images.unsplash.com/photo-1627916599298-0c677e434cdb?auto=format&fit=crop&q=80&w=800'], 'approved', 'CBD, Nairobi');

        -- 9. FITNESS & SPORTS
        INSERT INTO public.listings (owner_id, category_id, subcategory_id, title, slug, description, price_per_day, images, status, location) VALUES
        (v_owner_id, '99999999-9999-9999-9999-999999999999', (SELECT id FROM public.subcategories WHERE slug = 'gym-equipment' LIMIT 1), 'Treadmill', 'treadmill-pro-' || substring(md5(random()::text) from 1 for 6), 'Professional gym treadmill.', 1500, ARRAY['https://images.unsplash.com/photo-1579758629938-03607ccdbaba?auto=format&fit=crop&q=80&w=800'], 'approved', 'Kileleshwa, Nairobi'),
        (v_owner_id, '99999999-9999-9999-9999-999999999999', (SELECT id FROM public.subcategories WHERE slug = 'gym-equipment' LIMIT 1), 'Dumbbell Set', 'dumbbells-' || substring(md5(random()::text) from 1 for 6), 'Adjustable dumbbells 40kg.', 500, ARRAY['https://images.unsplash.com/photo-1632167764165-74a3d686e9f8?auto=format&fit=crop&q=80&w=800'], 'approved', 'Westlands, Nairobi'),
        (v_owner_id, '99999999-9999-9999-9999-999999999999', (SELECT id FROM public.subcategories WHERE slug = 'yoga' LIMIT 1), 'Yoga Mat', 'yoga-mat-' || substring(md5(random()::text) from 1 for 6), 'Premium thick mat.', 200, ARRAY['https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?auto=format&fit=crop&q=80&w=800'], 'approved', 'Parklands, Nairobi'),
        (v_owner_id, '99999999-9999-9999-9999-999999999999', (SELECT id FROM public.subcategories WHERE slug = 'gym-equipment' LIMIT 1), 'Stationary Bike', 'spin-bike-' || substring(md5(random()::text) from 1 for 6), 'For home cardio.', 800, ARRAY['https://images.unsplash.com/photo-1596350323380-e7f09bd1bb1b?auto=format&fit=crop&q=80&w=800'], 'approved', 'Langata, Nairobi'),
        (v_owner_id, '99999999-9999-9999-9999-999999999999', (SELECT id FROM public.subcategories WHERE slug = 'team-sports' LIMIT 1), 'Tennis Racket', 'tennis-racket-' || substring(md5(random()::text) from 1 for 6), 'Wilson pro racket.', 400, ARRAY['https://images.unsplash.com/photo-1627632669460-0382343a416a?auto=format&fit=crop&q=80&w=800'], 'approved', 'Karen, Nairobi'),
        (v_owner_id, '99999999-9999-9999-9999-999999999999', (SELECT id FROM public.subcategories WHERE slug = 'outdoor-sports' LIMIT 1), 'Camping Tent', 'camping-tent-' || substring(md5(random()::text) from 1 for 6), '4-person waterproof tent.', 1000, ARRAY['https://images.unsplash.com/photo-1478131143081-80f7f84ca84d?auto=format&fit=crop&q=80&w=800'], 'approved', 'Town, Naivasha'),
        (v_owner_id, '99999999-9999-9999-9999-999999999999', (SELECT id FROM public.subcategories WHERE slug = 'outdoor-sports' LIMIT 1), 'Golf Clubs', 'golf-set-' || substring(md5(random()::text) from 1 for 6), 'Full set of irons and woods.', 2000, ARRAY['https://images.unsplash.com/photo-1535131749006-b7f58c99034b?auto=format&fit=crop&q=80&w=800'], 'approved', 'Muthaiga, Nairobi'),
        (v_owner_id, '99999999-9999-9999-9999-999999999999', (SELECT id FROM public.subcategories WHERE slug = 'water-sports' LIMIT 1), 'Kayak', 'kayak-' || substring(md5(random()::text) from 1 for 6), 'Single seater kayak.', 1500, ARRAY['https://images.unsplash.com/photo-1543329243-d3493e800615?auto=format&fit=crop&q=80&w=800'], 'approved', 'Nyali, Mombasa'),
        (v_owner_id, '99999999-9999-9999-9999-999999999999', (SELECT id FROM public.subcategories WHERE slug = 'outdoor-sports' LIMIT 1), 'Hiking Backpack', 'hiking-bag-' || substring(md5(random()::text) from 1 for 6), '60L travel backpack.', 400, ARRAY['https://images.unsplash.com/photo-1553062407-98eeb64c6a62?auto=format&fit=crop&q=80&w=800'], 'approved', 'Westlands, Nairobi'),
        (v_owner_id, '99999999-9999-9999-9999-999999999999', (SELECT id FROM public.subcategories WHERE slug = 'gym-equipment' LIMIT 1), 'Boxing Gloves', 'boxing-gloves-' || substring(md5(random()::text) from 1 for 6), 'Training gloves 12oz.', 300, ARRAY['https://images.unsplash.com/photo-1599058945522-8d77d7046092?auto=format&fit=crop&q=80&w=800'], 'approved', 'South B, Nairobi');

    END IF;
END $$;
