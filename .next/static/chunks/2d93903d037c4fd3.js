(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>i,"CardDescription",()=>l,"CardHeader",()=>n,"CardTitle",()=>r])},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},27341,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(81140),n=e.i(30030),r=e.i(42727),l=e.i(96626),i=e.i(48425),d=e.i(86318),c=e.i(69340),o=e.i(10772),m="Tabs",[u,x]=(0,n.createContextScope)(m,[r.createRovingFocusGroupScope]),g=(0,r.createRovingFocusGroupScope)(),[h,p]=u(m),f=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:n,onValueChange:r,defaultValue:l,orientation:u="horizontal",dir:x,activationMode:g="automatic",...p}=e,f=(0,d.useDirection)(x),[j,b]=(0,c.useControllableState)({prop:n,onChange:r,defaultProp:l??"",caller:m});return(0,t.jsx)(h,{scope:a,baseId:(0,o.useId)(),value:j,onValueChange:b,orientation:u,dir:f,activationMode:g,children:(0,t.jsx)(i.Primitive.div,{dir:f,"data-orientation":u,...p,ref:s})})});f.displayName=m;var j="TabsList",b=s.forwardRef((e,s)=>{let{__scopeTabs:a,loop:n=!0,...l}=e,d=p(j,a),c=g(a);return(0,t.jsx)(r.Root,{asChild:!0,...c,orientation:d.orientation,dir:d.dir,loop:n,children:(0,t.jsx)(i.Primitive.div,{role:"tablist","aria-orientation":d.orientation,...l,ref:s})})});b.displayName=j;var v="TabsTrigger",N=s.forwardRef((e,s)=>{let{__scopeTabs:n,value:l,disabled:d=!1,...c}=e,o=p(v,n),m=g(n),u=k(o.baseId,l),x=w(o.baseId,l),h=l===o.value;return(0,t.jsx)(r.Item,{asChild:!0,...m,focusable:!d,active:h,children:(0,t.jsx)(i.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:u,...c,ref:s,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{d||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(l)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(l)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==o.activationMode;h||d||!e||o.onValueChange(l)})})})});N.displayName=v;var C="TabsContent",y=s.forwardRef((e,a)=>{let{__scopeTabs:n,value:r,forceMount:d,children:c,...o}=e,m=p(C,n),u=k(m.baseId,r),x=w(m.baseId,r),g=r===m.value,h=s.useRef(g);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(l.Presence,{present:d||g,children:({present:s})=>(0,t.jsx)(i.Primitive.div,{"data-state":g?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:x,tabIndex:0,...o,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&c})})});function k(e,t){return`${e}-trigger-${t}`}function w(e,t){return`${e}-content-${t}`}y.displayName=C;var T=e.i(47163);function B({className:e,...s}){return(0,t.jsx)(f,{"data-slot":"tabs",className:(0,T.cn)("flex flex-col gap-2",e),...s})}function D({className:e,...s}){return(0,t.jsx)(b,{"data-slot":"tabs-list",className:(0,T.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...s})}function P({className:e,...s}){return(0,t.jsx)(N,{"data-slot":"tabs-trigger",className:(0,T.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function A({className:e,...s}){return(0,t.jsx)(y,{"data-slot":"tabs-content",className:(0,T.cn)("flex-1 outline-none",e),...s})}e.s(["Tabs",()=>B,"TabsContent",()=>A,"TabsList",()=>D,"TabsTrigger",()=>P],27341)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},50717,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(51804),n=e.i(3116),r=e.i(69638),l=e.i(73884),i=e.i(94983),d=e.i(70065),c=e.i(94179),o=e.i(67881),m=e.i(27341),u=e.i(63270),x=e.i(17927),g=e.i(27158);function h(){let[e,h]=(0,s.useState)([]),[p,f]=(0,s.useState)(!0),j={total:e.length,pending:e.filter(e=>"pending"===e.status).length,completed:e.filter(e=>"completed"===e.status).length,cancelled:e.filter(e=>"cancelled"===e.status).length};return(0,s.useEffect)(()=>{!async function(){try{let{data:{user:e}}=await x.supabase.auth.getUser();if(e){let t=await (0,g.getBookings)(e.id,"owner");h(t||[])}}catch(e){console.error("Error fetching bookings:",e)}finally{f(!1)}}()},[]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"My Bookings"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your rental bookings"})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,t.jsx)(d.Card,{className:"glass-card",children:(0,t.jsx)(d.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-blue-500/20",children:(0,t.jsx)(a.CalendarCheck,{className:"h-6 w-6 text-blue-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:j.total}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Bookings"})]})]})})}),(0,t.jsx)(d.Card,{className:"glass-card",children:(0,t.jsx)(d.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-orange-500/20",children:(0,t.jsx)(n.Clock,{className:"h-6 w-6 text-orange-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:j.pending}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})]})})}),(0,t.jsx)(d.Card,{className:"glass-card",children:(0,t.jsx)(d.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-green-500/20",children:(0,t.jsx)(r.CheckCircle,{className:"h-6 w-6 text-green-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:j.completed}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Completed"})]})]})})}),(0,t.jsx)(d.Card,{className:"glass-card",children:(0,t.jsx)(d.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-red-500/20",children:(0,t.jsx)(l.XCircle,{className:"h-6 w-6 text-red-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:j.cancelled}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Cancelled"})]})]})})})]}),(0,t.jsxs)(d.Card,{className:"glass-card",children:[(0,t.jsxs)(d.CardHeader,{children:[(0,t.jsx)(d.CardTitle,{children:"All Bookings"}),(0,t.jsx)(d.CardDescription,{children:"View and manage your rental requests"})]}),(0,t.jsx)(d.CardContent,{children:(0,t.jsxs)(m.Tabs,{defaultValue:"all",children:[(0,t.jsxs)(m.TabsList,{children:[(0,t.jsx)(m.TabsTrigger,{value:"all",children:"All"}),(0,t.jsx)(m.TabsTrigger,{value:"pending",children:"Pending"}),(0,t.jsx)(m.TabsTrigger,{value:"confirmed",children:"Confirmed"}),(0,t.jsx)(m.TabsTrigger,{value:"completed",children:"Completed"})]}),(0,t.jsx)(m.TabsContent,{value:"all",className:"mt-4",children:(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-background/50",children:[(0,t.jsx)("img",{src:e.listing?.images?.[0]||"/placeholder.svg",alt:e.listing?.title,className:"w-20 h-16 rounded-lg object-cover"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.listing?.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsxs)(u.Avatar,{className:"h-5 w-5",children:[(0,t.jsx)(u.AvatarImage,{src:e.renter?.avatar_url||"/placeholder.svg"}),(0,t.jsx)(u.AvatarFallback,{children:e.renter?.full_name?.[0]||"U"})]}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.renter?.full_name||"Renter"})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[new Date(e.start_date).toLocaleDateString()," - ",new Date(e.end_date).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(e=>{switch(e){case"confirmed":return(0,t.jsx)(c.Badge,{className:"bg-green-500/20 text-green-600",children:"Confirmed"});case"pending":return(0,t.jsx)(c.Badge,{className:"bg-orange-500/20 text-orange-600",children:"Pending"});case"completed":return(0,t.jsx)(c.Badge,{className:"bg-blue-500/20 text-blue-600",children:"Completed"});case"cancelled":return(0,t.jsx)(c.Badge,{className:"bg-red-500/20 text-red-600",children:"Cancelled"});default:return(0,t.jsx)(c.Badge,{variant:"outline",children:e})}})(e.status),(0,t.jsxs)("p",{className:"font-semibold mt-1",children:["KSh ",e.total_amount?.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(o.Button,{variant:"outline",size:"icon",children:(0,t.jsx)(i.MessageCircle,{className:"h-4 w-4"})}),"pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Button,{size:"sm",className:"bg-green-500 hover:bg-green-600",children:"Accept"}),(0,t.jsx)(o.Button,{size:"sm",variant:"destructive",children:"Decline"})]})]})]},e.id))})}),(0,t.jsx)(m.TabsContent,{value:"pending",className:"mt-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[e.filter(e=>"pending"===e.status).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-background/50",children:[(0,t.jsx)("p",{className:"font-semibold",children:e.listing?.title}),(0,t.jsx)(c.Badge,{className:"ml-auto bg-orange-500/20 text-orange-600",children:"Pending"})]},e.id)),0===j.pending&&(0,t.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No pending bookings"})]})}),(0,t.jsx)(m.TabsContent,{value:"confirmed",className:"mt-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[e.filter(e=>"confirmed"===e.status).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-background/50",children:[(0,t.jsx)("p",{className:"font-semibold",children:e.listing?.title}),(0,t.jsx)(c.Badge,{className:"ml-auto bg-green-500/20 text-green-600",children:"Confirmed"})]},e.id)),0===e.filter(e=>"confirmed"===e.status).length&&(0,t.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No confirmed bookings"})]})}),(0,t.jsx)(m.TabsContent,{value:"completed",className:"mt-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[e.filter(e=>"completed"===e.status).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-background/50",children:[(0,t.jsx)("p",{className:"font-semibold",children:e.listing?.title}),(0,t.jsx)(c.Badge,{className:"ml-auto bg-blue-500/20 text-blue-600",children:"Completed"})]},e.id)),0===j.completed&&(0,t.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No completed bookings"})]})})]})})]})]})}e.s(["MyBookings",()=>h])}]);