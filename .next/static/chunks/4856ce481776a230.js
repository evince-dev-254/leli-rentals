(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86536,e=>{"use strict";let t=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},69035,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(74080);var a=e.i(91918),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let s=(0,a.createSlot)(`Primitive.${i}`),n=r.forwardRef((e,r)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?s:i,{...n,ref:r})});return n.displayName=`Primitive.${i}`,{...e,[i]:n}},{}),s="horizontal",n=["horizontal","vertical"],o=r.forwardRef((e,r)=>{var a;let{decorative:o,orientation:l=s,...d}=e,c=(a=l,n.includes(a))?l:s;return(0,t.jsx)(i.div,{"data-orientation":c,...o?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:r})});o.displayName="Separator";var l=e.i(47163);function d({className:e,orientation:r="horizontal",decorative:a=!0,...i}){return(0,t.jsx)(o,{"data-slot":"separator",decorative:a,orientation:r,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...i})}e.s(["Separator",()=>d],69035)},23750,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(47163);let i=r.forwardRef(({className:e,type:r,...i},s)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...i}));i.displayName="Input",e.s(["Input",()=>i])},99682,e=>{"use strict";var t=e.i(71645);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},10708,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(74080);var a=e.i(91918),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let s=(0,a.createSlot)(`Primitive.${i}`),n=r.forwardRef((e,r)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?s:i,{...n,ref:r})});return n.displayName=`Primitive.${i}`,{...e,[i]:n}},{}),s=r.forwardRef((e,r)=>(0,t.jsx)(i.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var n=e.i(47163);function o({className:e,...r}){return(0,t.jsx)(s,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>o],10708)},77705,e=>{"use strict";let t=(0,e.i(75254).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>t],77705)},25959,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(20783),i=e.i(30030),s=e.i(81140),n=e.i(69340),o=e.i(99682),l=e.i(35804),d=e.i(96626),c=e.i(48425),u="Checkbox",[m,p]=(0,i.createContextScope)(u),[f,h]=m(u);function x(e){let{__scopeCheckbox:a,checked:i,children:s,defaultChecked:o,disabled:l,form:d,name:c,onCheckedChange:m,required:p,value:h="on",internal_do_not_use_render:x}=e,[v,b]=(0,n.useControllableState)({prop:i,defaultProp:o??!1,onChange:m,caller:u}),[g,y]=r.useState(null),[w,j]=r.useState(null),k=r.useRef(!1),C=!g||!!d||!!g.closest("form"),S={checked:v,disabled:l,setChecked:b,control:g,setControl:y,name:c,form:d,value:h,hasConsumerStoppedPropagationRef:k,required:p,defaultChecked:!N(o)&&o,isFormControl:C,bubbleInput:w,setBubbleInput:j};return(0,t.jsx)(f,{scope:a,...S,children:"function"==typeof x?x(S):s})}var v="CheckboxTrigger",b=r.forwardRef(({__scopeCheckbox:e,onKeyDown:i,onClick:n,...o},l)=>{let{control:d,value:u,disabled:m,checked:p,required:f,setControl:x,setChecked:b,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:w}=h(v,e),j=(0,a.useComposedRefs)(l,x),k=r.useRef(p);return r.useEffect(()=>{let e=d?.form;if(e){let t=()=>b(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,b]),(0,t.jsx)(c.Primitive.button,{type:"button",role:"checkbox","aria-checked":N(p)?"mixed":p,"aria-required":f,"data-state":C(p),"data-disabled":m?"":void 0,disabled:m,value:u,...o,ref:j,onKeyDown:(0,s.composeEventHandlers)(i,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,s.composeEventHandlers)(n,e=>{b(e=>!!N(e)||!e),w&&y&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});b.displayName=v;var g=r.forwardRef((e,r)=>{let{__scopeCheckbox:a,name:i,checked:s,defaultChecked:n,required:o,disabled:l,value:d,onCheckedChange:c,form:u,...m}=e;return(0,t.jsx)(x,{__scopeCheckbox:a,checked:s,defaultChecked:n,disabled:l,required:o,onCheckedChange:c,name:i,form:u,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{...m,ref:r,__scopeCheckbox:a}),e&&(0,t.jsx)(k,{__scopeCheckbox:a})]})})});g.displayName=u;var y="CheckboxIndicator",w=r.forwardRef((e,r)=>{let{__scopeCheckbox:a,forceMount:i,...s}=e,n=h(y,a);return(0,t.jsx)(d.Presence,{present:i||N(n.checked)||!0===n.checked,children:(0,t.jsx)(c.Primitive.span,{"data-state":C(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:r,style:{pointerEvents:"none",...e.style}})})});w.displayName=y;var j="CheckboxBubbleInput",k=r.forwardRef(({__scopeCheckbox:e,...i},s)=>{let{control:n,hasConsumerStoppedPropagationRef:d,checked:u,defaultChecked:m,required:p,disabled:f,name:x,value:v,form:b,bubbleInput:g,setBubbleInput:y}=h(j,e),w=(0,a.useComposedRefs)(s,y),k=(0,o.usePrevious)(u),C=(0,l.useSize)(n);r.useEffect(()=>{if(!g)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!d.current;if(k!==u&&e){let r=new Event("click",{bubbles:t});g.indeterminate=N(u),e.call(g,!N(u)&&u),g.dispatchEvent(r)}},[g,k,u,d]);let S=r.useRef(!N(u)&&u);return(0,t.jsx)(c.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??S.current,required:p,disabled:f,name:x,value:v,form:b,...i,tabIndex:-1,ref:w,style:{...i.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function N(e){return"indeterminate"===e}function C(e){return N(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=j;var S=e.i(78784),E=e.i(47163);function P({className:e,...r}){return(0,t.jsx)(g,{"data-slot":"checkbox",className:(0,E.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(w,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(S.CheckIcon,{className:"size-3.5"})})})}e.s(["Checkbox",()=>P],25959)},15469,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(22016),i=e.i(57688),s=e.i(18566),n=e.i(86536),o=e.i(77705),l=e.i(31278),d=e.i(67881),c=e.i(23750),u=e.i(10708),m=e.i(25959),p=e.i(69035),f=e.i(17927);function h(){let e=(0,s.useRouter)(),[h,x]=(0,r.useState)(""),[v,b]=(0,r.useState)(""),[g,y]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),[k,N]=(0,r.useState)(!1),[C,S]=(0,r.useState)(!1),[E,P]=(0,r.useState)(""),R=async t=>{t.preventDefault(),N(!0),P("");try{let{data:t,error:r}=await f.supabase.auth.signInWithPassword({email:h,password:v,options:{persistSession:w}});if(r){if(r.message.includes("Email not confirmed"))throw Error("Please verify your email address to sign in.");throw r}w?localStorage.setItem("rememberMe","true"):localStorage.removeItem("rememberMe");let{data:a}=await f.supabase.from("user_profiles").select("role").eq("id",t.user.id).single(),i=a?.role||"renter";"admin"===i||a?.is_admin?e.push("/dashboard/admin"):"owner"===i?e.push("/dashboard/owner"):"affiliate"===i?e.push("/dashboard/affiliate"):e.push("/categories"),e.refresh()}catch(e){P(e.message||"Failed to sign in")}finally{N(!1)}},z=async()=>{S(!0),P("");try{let{data:e,error:t}=await f.supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(t)throw t}catch(e){P(e.message||"Failed to sign in with Google"),S(!1)}};return(0,t.jsx)("div",{className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"glass-card rounded-2xl p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)(a.default,{href:"/",className:"inline-block mb-6",children:(0,t.jsx)(i.default,{src:"/logo.png",alt:"Leli Rentals",width:150,height:40,className:"h-10 w-auto dark:invert"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Welcome Back"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Sign in to your account to continue"})]}),(0,t.jsxs)(d.Button,{variant:"outline",className:"w-full h-12 mb-6 bg-transparent",onClick:z,disabled:C,children:[C?(0,t.jsx)(l.Loader2,{className:"h-5 w-5 mr-2 animate-spin"}):(0,t.jsxs)("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,t.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,t.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,t.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),(0,t.jsxs)("div",{className:"relative mb-6",children:[(0,t.jsx)(p.Separator,{}),(0,t.jsx)("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-card px-4 text-sm text-muted-foreground",children:"or"})]}),E&&(0,t.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm",children:E}),(0,t.jsxs)("form",{onSubmit:R,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"email",children:"Email"}),(0,t.jsx)(c.Input,{id:"email",type:"email",placeholder:"you@example.com",value:h,onChange:e=>x(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(u.Label,{htmlFor:"password",children:"Password"}),(0,t.jsx)(a.default,{href:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Input,{id:"password",type:g?"text":"password",placeholder:"Enter your password",value:v,onChange:e=>b(e.target.value),required:!0}),(0,t.jsx)(d.Button,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>y(!g),children:g?(0,t.jsx)(o.EyeOff,{className:"h-4 w-4"}):(0,t.jsx)(n.Eye,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.Checkbox,{id:"remember",checked:w,onCheckedChange:e=>j(e)}),(0,t.jsx)(u.Label,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me for 30 days"})]}),(0,t.jsx)(d.Button,{type:"submit",className:"w-full h-12 bg-primary text-primary-foreground",disabled:k,children:k?(0,t.jsx)(l.Loader2,{className:"h-5 w-5 animate-spin"}):"Sign In"})]}),(0,t.jsxs)("p",{className:"text-center text-sm text-muted-foreground mt-6",children:["Do not have an account?"," ",(0,t.jsx)(a.default,{href:"/signup",className:"text-primary font-medium hover:underline",children:"Sign up"})]})]})})}e.s(["LoginForm",()=>h])}]);