(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function s({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}function o({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>o,"CardDescription",()=>n,"CardHeader",()=>i,"CardTitle",()=>s])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},10708,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(74080);var a=e.i(91918),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let s=(0,a.createSlot)(`Primitive.${i}`),n=r.forwardRef((e,r)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(a?s:i,{...n,ref:r})});return n.displayName=`Primitive.${i}`,{...e,[i]:n}},{}),s=r.forwardRef((e,r)=>(0,t.jsx)(i.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var n=e.i(47163);function o({className:e,...r}){return(0,t.jsx)(s,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>o],10708)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},68553,e=>{"use strict";let t=(0,e.i(75254).default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>t],68553)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},78583,e=>{"use strict";let t=(0,e.i(75254).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},69074,e=>{"use strict";let t=(0,e.i(75254).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>t],69074)},66698,(e,t,r)=>{var a;e.e,a=e.r(71645),t.exports=function(e){var t={};function r(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,(function(t){return e[t]}).bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,r){"use strict";r.r(t);var a,i=r("react"),s=(a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),n=function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>t.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]]);return r};function l(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}"undefined"!=typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise(function(r,a){t.call(navigator,e,r,a)}):Promise.reject(Error("getUserMedia is not implemented in this browser"))})),t.default=function(e){function t(t){var r=e.call(this,t)||this;return r.canvas=null,r.ctx=null,r.requestUserMediaId=0,r.unmounted=!1,r.state={hasUserMedia:!1},r}return s(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;(this.unmounted=!1,l())?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(!l())return void t.onUserMediaError("getUserMedia not supported");var r=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),a=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),i=e.minScreenshotWidth!==t.minScreenshotWidth,s=e.minScreenshotHeight!==t.minScreenshotHeight;(a||i||s)&&(this.canvas=null,this.ctx=null),(r||a)&&(this.stopAndCleanup(),this.requestUserMedia())},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map(function(t){e.removeTrack(t),t.stop()}),e.getAudioTracks().map(function(t){e.removeTrack(t),t.stop()})):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,r=this.props;if(!t.hasUserMedia)return null;var a=this.getCanvas(e);return a&&a.toDataURL(r.screenshotFormat,r.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,r=this.props;if(!this.video||!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var a=this.video.videoWidth,i=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var s=a/i;i=(a=r.minScreenshotWidth||this.video.clientWidth)/s,r.minScreenshotHeight&&i<r.minScreenshotHeight&&(a=(i=r.minScreenshotHeight)*s)}this.canvas=document.createElement("canvas"),this.canvas.width=(null==e?void 0:e.width)||a,this.canvas.height=(null==e?void 0:e.height)||i,this.ctx=this.canvas.getContext("2d")}var n=this.ctx,o=this.canvas;return n&&o&&(o.width=(null==e?void 0:e.width)||o.width,o.height=(null==e?void 0:e.height)||o.height,r.mirrored&&(n.translate(o.width,0),n.scale(-1,1)),n.imageSmoothingEnabled=r.imageSmoothing,n.drawImage(this.video,0,0,(null==e?void 0:e.width)||o.width,(null==e?void 0:e.height)||o.height),r.mirrored&&(n.scale(-1,1),n.translate(-o.width,0))),o},t.prototype.requestUserMedia=function(){var e=this,r=this.props,a=function(a,i){var s={video:void 0===i||i};r.audio&&(s.audio=void 0===a||a),e.requestUserMediaId++;var n=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(s).then(function(r){e.unmounted||n!==e.requestUserMediaId?t.stopMediaStream(r):e.handleUserMedia(null,r)}).catch(function(t){e.handleUserMedia(t)})};if("mediaDevices"in navigator)a(r.audioConstraints,r.videoConstraints);else{var i=function(e){return{optional:[{sourceId:e}]}},s=function(e){var t=e.deviceId;return"string"==typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"==typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources(function(e){var t=null,n=null;e.forEach(function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(n=e.id)});var o=s(r.audioConstraints);o&&(t=o);var l=s(r.videoConstraints);l&&(n=l),a(i(t),i(n))})}},t.prototype.handleUserMedia=function(e,t){var r=this.props;if(e||!t){this.setState({hasUserMedia:!1}),r.onUserMediaError(e);return}this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(e){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}r.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,r=this.props,a=r.audio,s=(r.forceScreenshotSourceSize,r.disablePictureInPicture),l=(r.onUserMedia,r.onUserMediaError,r.screenshotFormat,r.screenshotQuality,r.minScreenshotWidth,r.minScreenshotHeight,r.audioConstraints,r.videoConstraints,r.imageSmoothing,r.mirrored),d=r.style,c=void 0===d?{}:d,u=r.children,h=o(r,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),p=l?n(n({},c),{transform:(c.transform||"")+" scaleX(-1)"}):c,m={getScreenshot:this.getScreenshot.bind(this)};return i.createElement(i.Fragment,null,i.createElement("video",n({autoPlay:!0,disablePictureInPicture:s,src:t.src,muted:!a,playsInline:!0,ref:function(t){e.video=t},style:p},h)),u&&u(m))},t.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(i.Component)},react:function(e,t){e.exports=a}}).default},32257,e=>{"use strict";e.i(47167);var t=e.i(43476),r=e.i(71645),a=e.i(66698),i=e.i(69074),s=e.i(78583),n=e.i(69638),o=e.i(78894),l=e.i(37727),d=e.i(31278),c=e.i(68553);let u=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var h=e.i(70065),p=e.i(67881),m=e.i(94179),f=e.i(10708),x=e.i(23750),v=e.i(62870),g=e.i(17927),j=e.i(27158),b=e.i(46696),y=e.i(80135);function S(){let[e,S]=(0,r.useState)([]),[w,N]=(0,r.useState)(!0),[C,M]=(0,r.useState)(!1),[k,U]=(0,r.useState)("id_card"),[_,P]=(0,r.useState)(""),[D,O]=(0,r.useState)(""),[I,T]=(0,r.useState)(""),[F,L]=(0,r.useState)(""),[E,H]=(0,r.useState)(""),[B,z]=(0,r.useState)(""),[V,q]=(0,r.useState)(""),[A,R]=(0,r.useState)(""),[W,$]=(0,r.useState)(!1),J=(0,r.useRef)(null),[G,K]=(0,r.useState)(!1),Q=async()=>{try{let{data:{user:e}}=await g.supabase.auth.getUser();if(e){let t=await (0,j.getVerifications)(e.id);S(t||[]);let{data:r}=await g.supabase.from("user_profiles").select("*").eq("id",e.id).single();r&&(H(r.date_of_birth||""),z(r.next_of_kin_name||""),q(r.next_of_kin_relationship||""),R(r.next_of_kin_phone||""))}}catch(e){console.error("Error fetching documents:",e)}finally{N(!1)}};(0,r.useEffect)(()=>{Q()},[]);let Y=async()=>{if(_&&D&&I){M(!0);try{let{data:{user:e}}=await g.supabase.auth.getUser();if(!e)return;await (0,j.updateProfile)(e.id,{date_of_birth:E,next_of_kin_name:B,next_of_kin_relationship:V,next_of_kin_phone:A}),await (0,j.uploadVerification)(e.id,_,D,I,k,F),b.toast.success("Verification submitted successfully"),await Q(),P(""),O(""),T(""),L("")}catch(e){console.error("Error uploading:",e)}finally{M(!1)}}},X=(0,r.useCallback)(async()=>{let e=J.current?.getScreenshot();if(e){K(!0);try{let t=await fetch("/api/imagekit/auth");if(!t.ok)throw Error("Failed to get auth params");let{signature:r,expire:a,token:i}=await t.json(),s=await fetch(e),n=await s.blob(),o=new File([n],"selfie.jpg",{type:"image/jpeg"}),l=new FormData;l.append("file",o),l.append("fileName","selfie.jpg"),l.append("publicKey","public_qvHAZC5VBwvFfMvF6CxulrvgOlM="),l.append("signature",r),l.append("expire",a),l.append("token",i),l.append("folder","/verification-docs");let d=await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"POST",body:l});if(!d.ok){let e=await d.text();throw Error(`Upload failed: ${e}`)}let c=await d.json();T(c.url),$(!1)}catch(e){console.error("Selfie upload error:",e)}finally{K(!1)}}},[J]),Z=new Date;Z.setDate(Z.getDate()+3);let ee=e.some(e=>"approved"===e.status);return(e.some(e=>"pending"===e.status),w)?(0,t.jsx)("div",{className:"flex justify-center p-20",children:(0,t.jsx)(d.Loader2,{className:"animate-spin h-8 w-8 text-primary"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Verification"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Complete your account verification to start listing"})]}),(0,t.jsx)(h.Card,{className:`border-l-4 ${ee?"border-l-green-500 bg-green-500/5":"border-l-orange-500 bg-orange-500/5"}`,children:(0,t.jsx)(h.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-full ${ee?"bg-green-500/10":"bg-orange-500/10"}`,children:ee?(0,t.jsx)(n.CheckCircle,{className:"h-6 w-6 text-green-500"}):(0,t.jsx)(o.AlertTriangle,{className:"h-6 w-6 text-orange-500"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:`font-semibold mb-1 ${ee?"text-green-600":"text-orange-600"}`,children:ee?"Verification Complete":"Verification Pending"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:ee?"Your account is fully verified. You can now list items and accept bookings.":"Submit all required documents to verify your identity."})]})]})})}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(h.Card,{className:"glass-card",children:[(0,t.jsxs)(h.CardHeader,{children:[(0,t.jsx)(h.CardTitle,{children:"Personal Information"}),(0,t.jsx)(h.CardDescription,{children:"Your details as per ID"})]}),(0,t.jsx)(h.CardContent,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Label,{children:"Date of Birth"}),(0,t.jsx)(x.Input,{type:"date",value:E,onChange:e=>H(e.target.value)})]})})]}),(0,t.jsxs)(h.Card,{className:"glass-card",children:[(0,t.jsxs)(h.CardHeader,{children:[(0,t.jsx)(h.CardTitle,{children:"Next of Kin"}),(0,t.jsx)(h.CardDescription,{children:"Emergency contact details"})]}),(0,t.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Label,{children:"Full Name"}),(0,t.jsx)(x.Input,{placeholder:"e.g. Jane Doe",value:B,onChange:e=>z(e.target.value)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Label,{children:"Relationship"}),(0,t.jsx)(x.Input,{placeholder:"e.g. Spouse",value:V,onChange:e=>q(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Label,{children:"Phone Number"}),(0,t.jsx)(x.Input,{placeholder:"+254...",value:A,onChange:e=>R(e.target.value)})]})]})]})]})]}),(0,t.jsxs)(h.Card,{className:"glass-card",children:[(0,t.jsxs)(h.CardHeader,{children:[(0,t.jsx)(h.CardTitle,{children:"Submitted Documents"}),(0,t.jsx)(h.CardDescription,{children:"Documents you have uploaded for verification"})]}),(0,t.jsx)(h.CardContent,{children:0===e.length?(0,t.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"No documents submitted yet."}):(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-background/50 border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,t.jsx)(s.FileText,{className:"h-5 w-5 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium capitalize",children:e.document_type.replace("_"," ")}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("a",{href:e.document_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"View Front"}),e.back_image_url&&(0,t.jsx)("a",{href:e.back_image_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"View Back"}),e.selfie_image_url&&(0,t.jsx)("a",{href:e.selfie_image_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline",children:"View Selfie"})]})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)(m.Badge,{className:`${"approved"===e.status?"bg-green-500":"bg-orange-500"}`,children:e.status})})]},e.id))})})]}),(0,t.jsxs)(h.Card,{className:"glass-card",children:[(0,t.jsxs)(h.CardHeader,{children:[(0,t.jsx)(h.CardTitle,{children:"submit Documents"}),(0,t.jsx)(h.CardDescription,{children:"Submit required verification documents"})]}),(0,t.jsxs)(h.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Label,{children:"Document Type"}),(0,t.jsxs)(v.Select,{value:k,onValueChange:U,children:[(0,t.jsx)(v.SelectTrigger,{children:(0,t.jsx)(v.SelectValue,{placeholder:"Select type"})}),(0,t.jsxs)(v.SelectContent,{children:[(0,t.jsx)(v.SelectItem,{value:"id_card",children:"National ID"}),(0,t.jsx)(v.SelectItem,{value:"passport",children:"Passport"}),(0,t.jsx)(v.SelectItem,{value:"drivers_license",children:"Driver's License"}),(0,t.jsx)(v.SelectItem,{value:"business_license",children:"Business License"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Label,{children:"Document Number"}),(0,t.jsx)(x.Input,{placeholder:"Enter ID/Passport Number",value:F,onChange:e=>L(e.target.value)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Label,{children:"Front of Document"}),(0,t.jsx)(y.ImageUpload,{folder:"/verification-docs",onSuccess:e=>P(e.url),onError:e=>console.error("Front upload error",e),className:"w-full",buttonText:"Upload Front",variant:"outline",maxSizeMB:10}),_&&(0,t.jsx)("p",{className:"text-xs text-green-600",children:"Front uploaded"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Label,{children:"Back of Document"}),(0,t.jsx)(y.ImageUpload,{folder:"/verification-docs",onSuccess:e=>O(e.url),onError:e=>console.error("Back upload error",e),className:"w-full",buttonText:"Upload Back",variant:"outline",maxSizeMB:10}),D&&(0,t.jsx)("p",{className:"text-xs text-green-600",children:"Back uploaded"})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(f.Label,{children:"Selfie Holding ID"}),(0,t.jsx)(p.Button,{variant:"outline",size:"sm",onClick:()=>$(!W),type:"button",children:W?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Upload,{className:"w-4 h-4 mr-2"})," Upload File"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Camera,{className:"w-4 h-4 mr-2"})," Use Camera"]})})]}),W?(0,t.jsx)("div",{className:"relative rounded-lg overflow-hidden border bg-black aspect-video flex items-center justify-center",children:I?(0,t.jsxs)("div",{className:"relative w-full h-full",children:[(0,t.jsx)("img",{src:I,alt:"Selfie",className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:(0,t.jsxs)(p.Button,{variant:"secondary",size:"sm",onClick:()=>T(""),children:[(0,t.jsx)(u,{className:"mr-2 h-4 w-4"})," Retake"]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{audio:!1,ref:J,screenshotFormat:"image/jpeg",className:"w-full h-full object-cover",videoConstraints:{facingMode:"user"},mirrored:!0,playsInline:!0,muted:!0,onUserMediaError:e=>console.error("Webcam error:",e)}),(0,t.jsx)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center",children:(0,t.jsxs)(p.Button,{onClick:X,disabled:G,children:[G?(0,t.jsx)(d.Loader2,{className:"animate-spin mr-2"}):(0,t.jsx)(c.Camera,{className:"mr-2 h-4 w-4"}),G?"Uploading...":"Take Photo"]})})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.ImageUpload,{folder:"/verification-docs",onSuccess:e=>T(e.url),onError:e=>console.error("Selfie upload error",e),className:"w-full",buttonText:"Upload Selfie",variant:"outline",maxSizeMB:10}),I&&(0,t.jsxs)("div",{className:"mt-2 relative aspect-video w-40 rounded-md overflow-hidden border",children:[(0,t.jsx)("img",{src:I,alt:"Selfie",className:"w-full h-full object-cover"}),(0,t.jsx)(p.Button,{variant:"destructive",size:"icon",className:"absolute top-1 right-1 h-6 w-6",onClick:()=>T(""),children:(0,t.jsx)(l.X,{className:"h-3 w-3"})})]})]}),!I&&!W&&(0,t.jsx)("p",{className:"text-xs text-green-600 hidden",children:"Selfie uploaded"}),I&&!W&&(0,t.jsx)("p",{className:"text-xs text-green-600",children:"Selfie ready"})]})]}),(0,t.jsx)(p.Button,{className:"w-full",onClick:Y,disabled:C||!_||!D||!I||!F||!E,children:C?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Verification"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"PNG, JPG, PDF (max 10MB each)"})]})]})]})}e.s(["VerificationPage",()=>S],32257)}]);