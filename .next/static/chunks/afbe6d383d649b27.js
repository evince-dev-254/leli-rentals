(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89393,e=>{"use strict";var r=e.i(43476),s=e.i(57688),a=e.i(47163);function i({className:e,size:i=60}){return(0,r.jsxs)("div",{className:(0,a.cn)("relative flex items-center justify-center",e),children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-primary/20 rounded-full animate-ping opacity-75"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-primary/10 rounded-full animate-pulse delay-75"}),(0,r.jsx)("div",{className:"relative bg-background/80 backdrop-blur-sm rounded-full p-4 shadow-xl ring-1 ring-border/50 border border-primary/10",children:(0,r.jsx)(s.default,{src:"/logo.png",alt:"Loading...",width:i,height:i,className:"h-auto w-auto object-contain dark:invert animate-pulse duration-1000",priority:!0})})]})}e.s(["LoadingLogo",()=>i])},78928,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(18566),i=e.i(17927),t=e.i(89393);function o(){let[e,o]=(0,s.useState)(null),[n,l]=(0,s.useState)(null),[d,u]=(0,s.useState)(!0),c=(0,a.useRouter)();return((0,s.useEffect)(()=>{(async()=>{try{let{data:{user:e},error:r}=await i.supabase.auth.getUser();if(r||!e)return void c.push("/sign-in");o(e);let{data:s,error:a}=await i.supabase.from("user_profiles").select("*").eq("id",e.id).single();if(a){"PGRST116"!==a.code&&console.error("Profile fetch error:",a),c.push("/select-role");return}l(s),l(s),"admin"===s.role||s.is_admin?c.push("/admin"):"renter"===s.role?c.push("/dashboard/renter"):"owner"===s.role?c.push("/dashboard/owner"):"affiliate"===s.role&&c.push("/dashboard/affiliate")}catch(e){console.error("Dashboard error:",e)}finally{u(!1)}})()},[c]),d)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(t.LoadingLogo,{size:80}),(0,r.jsx)("p",{className:"mt-6 text-muted-foreground animate-pulse font-medium",children:"Loading dashboard..."})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(t.LoadingLogo,{size:60})})}e.s(["default",()=>o])}]);