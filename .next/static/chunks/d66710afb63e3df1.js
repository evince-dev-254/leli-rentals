(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var s=e.i(43476),a=e.i(47163);function t({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function r({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function i({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...t})}function n({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>l,"CardHeader",()=>r,"CardTitle",()=>i])},89393,e=>{"use strict";var s=e.i(43476),a=e.i(57688),t=e.i(47163);function r({className:e,size:r=60}){return(0,s.jsxs)("div",{className:(0,t.cn)("relative flex items-center justify-center",e),children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-primary/20 rounded-full animate-ping opacity-75"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-primary/10 rounded-full animate-pulse delay-75"}),(0,s.jsx)("div",{className:"relative bg-background/80 backdrop-blur-sm rounded-full p-4 shadow-xl ring-1 ring-border/50 border border-primary/10",children:(0,s.jsx)(a.default,{src:"/logo.png",alt:"Loading...",width:r,height:r,className:"h-auto w-auto object-contain dark:invert animate-pulse duration-1000",priority:!0})})]})}e.s(["LoadingLogo",()=>r])},34561,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(22016),r=e.i(17927),i=e.i(27158),l=e.i(70065),n=e.i(67881),d=e.i(88844),c=e.i(51804),o=e.i(12426),u=e.i(75254);let h=(0,u.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),m=(0,u.default)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var x=e.i(94983),g=e.i(39616),j=e.i(89393);function f(){let[e,u]=(0,a.useState)(null),[f,p]=(0,a.useState)([]),[b,N]=(0,a.useState)([]),[v,C]=(0,a.useState)(null),[y,w]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{(async()=>{let{data:{user:e}}=await r.supabase.auth.getUser();if(u(e),!e)return w(!1);try{let[s,a,t]=await Promise.all([(0,i.getOwnerData)(e.id),(0,i.getOwnerStats)(e.id),(0,i.getBookings)(e.id,"owner")]);p(s||[]),C(a),N(t||[])}catch(e){console.error(e)}finally{w(!1)}})()},[]),!e)return(0,s.jsx)("p",{className:"text-center",children:"Please sign in to view your dashboard."});if(y)return(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)(j.LoadingLogo,{size:60})});let k=[{label:"Total Listings",value:v?.listingsCount||0,icon:d.Package,change:"Updated just now"},{label:"Active Bookings",value:v?.activeBookingsCount||0,icon:c.CalendarCheck,change:"In progress"},{label:"Total Earnings",value:`KSh ${(v?.totalEarnings||0).toLocaleString()}`,icon:o.DollarSign,change:"Lifetime earnings"},{label:"Total Views",value:(v?.totalViews||0).toLocaleString(),icon:h,change:"All time views"}];return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Owner Dashboard"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["Welcome back, ",e.email?.split("@")[0]||"User",". Here's what's happening today."]})]}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:k.map((e,a)=>(0,s.jsxs)(l.Card,{className:"glass-card",children:[(0,s.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(l.CardTitle,{className:"text-sm font-medium",children:e.label}),(0,s.jsx)(e.icon,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(l.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.value}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.change})]})]},a))}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[(0,s.jsxs)(l.Card,{className:"col-span-4 lg:col-span-4 glass-card",children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Recent Listings"}),(0,s.jsxs)(l.CardDescription,{children:["You have ",f.length," total listings."]})]}),(0,s.jsx)(l.CardContent,{children:0===f.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"No listings yet"}),(0,s.jsx)(n.Button,{asChild:!0,children:(0,s.jsx)(t.default,{href:"/dashboard/listings/new",children:"Create Listing"})})]}):(0,s.jsx)("div",{className:"space-y-4",children:f.slice(0,5).map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-border/50 pb-4 last:border-0 last:pb-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded bg-secondary/50 flex items-center justify-center",children:(0,s.jsx)(d.Package,{className:"h-5 w-5 opacity-50"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.title}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Listing"})]})]}),(0,s.jsxs)("div",{className:"font-medium",children:["KSh ",e.price_per_day?.toLocaleString()]})]},e.id||a))})})]}),(0,s.jsxs)(l.Card,{className:"col-span-4 lg:col-span-3 glass-card",children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Recent Bookings"}),(0,s.jsx)(l.CardDescription,{children:"Latest rental requests"})]}),(0,s.jsxs)(l.CardContent,{children:[0===b.length?(0,s.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No bookings yet"}):(0,s.jsx)("div",{className:"space-y-4",children:b.slice(0,5).map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-3 border-b border-border/50 pb-3 last:border-0 last:pb-0",children:[(0,s.jsx)("div",{className:`p-2 rounded-full ${"confirmed"===e.status?"bg-green-500/10":"bg-orange-500/10"}`,children:(0,s.jsx)(c.CalendarCheck,{className:`h-4 w-4 ${"confirmed"===e.status?"text-green-500":"text-orange-500"}`})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium truncate",children:e.listing?.title}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[new Date(e.start_date).toLocaleDateString()," â€¢ ",e.renter?.full_name]})]}),(0,s.jsxs)("div",{className:"text-sm font-semibold",children:["KSh ",e.total_amount?.toLocaleString()]})]},e.id))}),(0,s.jsx)(n.Button,{variant:"link",asChild:!0,className:"px-0 w-full mt-2",children:(0,s.jsx)(t.default,{href:"/dashboard/bookings",children:"View All Bookings"})})]})]}),(0,s.jsxs)(l.Card,{className:"col-span-3 lg:col-span-7 glass-card",children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Quick Actions"}),(0,s.jsx)(l.CardDescription,{children:"Common tasks"})]}),(0,s.jsxs)(l.CardContent,{className:"grid gap-2",children:[(0,s.jsx)(n.Button,{asChild:!0,className:"w-full justify-start",variant:"outline",children:(0,s.jsxs)(t.default,{href:"/dashboard/listings/new",children:[(0,s.jsx)(m,{className:"mr-2 h-4 w-4"}),"Create New Listing"]})}),(0,s.jsx)(n.Button,{asChild:!0,className:"w-full justify-start",variant:"outline",children:(0,s.jsxs)(t.default,{href:"/dashboard/messages",children:[(0,s.jsx)(x.MessageCircle,{className:"mr-2 h-4 w-4"}),"View Messages"]})}),(0,s.jsx)(n.Button,{asChild:!0,className:"w-full justify-start",variant:"outline",children:(0,s.jsxs)(t.default,{href:"/dashboard/settings",children:[(0,s.jsx)(g.Settings,{className:"mr-2 h-4 w-4"}),"Account Settings"]})})]})]})]})]})}e.s(["default",()=>f],34561)}]);