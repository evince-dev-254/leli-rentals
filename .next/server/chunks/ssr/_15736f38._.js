module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},68089,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(78560),e=a.i(42521),f=a.i(3130),g=a.i(54161),h=a.i(96221),i=a.i(1199),j=a.i(87532),k=a.i(5522);function l(){let[a,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)("");(0,c.useEffect)(()=>{!async function(){let{data:{user:a}}=await d.supabase.auth.getUser();a&&n(await (0,e.getBookings)(a.id,"renter")||[]),l(!1)}()},[]);let q=m.filter(a=>a.listing?.title?.toLowerCase().includes(o.toLowerCase()));return a?(0,b.jsx)("div",{className:"flex justify-center p-20",children:(0,b.jsx)(h.Loader2,{className:"animate-spin h-8 w-8 text-primary"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Payments Record"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Track all payments made for your rentals"})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)(f.Card,{className:"glass-card",children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Total Spent"}),(0,b.jsx)(i.Receipt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:["KSh ",q.filter(a=>"completed"===a.status||"confirmed"===a.status).reduce((a,b)=>a+(Number(b.total_amount)||0),0).toLocaleString()]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"On confirmed/completed bookings"})]})]}),(0,b.jsxs)(f.Card,{className:"glass-card",children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Total Transactions"}),(0,b.jsx)(i.Receipt,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:m.length}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Lifetime bookings"})]})]})]}),(0,b.jsxs)(f.Card,{className:"glass-card",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.CardTitle,{children:"Transaction History"}),(0,b.jsx)(f.CardDescription,{children:"Detailed list of your rental payments"})]}),(0,b.jsxs)("div",{className:"relative w-64",children:[(0,b.jsx)(j.Search,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(k.Input,{placeholder:"Search rentals...",className:"pl-8",value:o,onChange:a=>p(a.target.value)})]})]})}),(0,b.jsx)(f.CardContent,{children:0===q.length?(0,b.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"No payment records found."}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-5 font-medium text-sm text-muted-foreground border-b pb-2",children:[(0,b.jsx)("div",{className:"col-span-2",children:"Item / Service"}),(0,b.jsx)("div",{children:"Date"}),(0,b.jsx)("div",{children:"Status"}),(0,b.jsx)("div",{className:"text-right",children:"Amount"})]}),q.map(a=>(0,b.jsxs)("div",{className:"grid grid-cols-5 items-center py-4 border-b last:border-0 hover:bg-muted/10 transition-colors",children:[(0,b.jsxs)("div",{className:"col-span-2 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-md bg-muted overflow-hidden",children:(0,b.jsx)("img",{src:a.listing?.images?.[0]||"/placeholder.svg",alt:a.listing?.title,className:"h-full w-full object-cover"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.listing?.title}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["ID: ",a.id.slice(0,8)]})]})]}),(0,b.jsx)("div",{className:"text-sm",children:new Date(a.created_at).toLocaleDateString()}),(0,b.jsx)("div",{children:(0,b.jsx)(g.Badge,{variant:"completed"===a.status?"default":"confirmed"===a.status?"secondary":"cancelled"===a.status?"destructive":"outline",className:"capitalize",children:a.status})}),(0,b.jsxs)("div",{className:"text-right font-medium",children:["KSh ",Number(a.total_amount).toLocaleString()]})]},a.id))]})})]})]})}a.s(["PaymentsPage",()=>l])}];

//# sourceMappingURL=_15736f38._.js.map