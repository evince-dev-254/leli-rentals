module.exports=[89512,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(97895);function e({className:a,size:e=60}){return(0,b.jsxs)("div",{className:(0,d.cn)("relative flex items-center justify-center",a),children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-primary/20 rounded-full animate-ping opacity-75"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-primary/10 rounded-full animate-pulse delay-75"}),(0,b.jsx)("div",{className:"relative bg-background/80 backdrop-blur-sm rounded-full p-4 shadow-xl ring-1 ring-border/50 border border-primary/10",children:(0,b.jsx)(c.default,{src:"/logo.png",alt:"Loading...",width:e,height:e,className:"h-auto w-auto object-contain dark:invert animate-pulse duration-1000",priority:!0})})]})}a.s(["LoadingLogo",()=>e])},20731,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(78560),f=a.i(89512);function g(){let[a,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!0),l=(0,d.useRouter)();return((0,c.useEffect)(()=>{(async()=>{try{let{data:{user:a},error:b}=await e.supabase.auth.getUser();if(b||!a)return void l.push("/sign-in");g(a);let{data:c,error:d}=await e.supabase.from("user_profiles").select("*").eq("id",a.id).single();if(d){"PGRST116"!==d.code&&console.error("Profile fetch error:",d),l.push("/select-role");return}i(c),i(c),"admin"===c.role||c.is_admin?l.push("/admin"):"renter"===c.role?l.push("/dashboard/renter"):"owner"===c.role?l.push("/dashboard/owner"):"affiliate"===c.role&&l.push("/dashboard/affiliate")}catch(a){console.error("Dashboard error:",a)}finally{k(!1)}})()},[l]),j)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)(f.LoadingLogo,{size:80}),(0,b.jsx)("p",{className:"mt-6 text-muted-foreground animate-pulse font-medium",children:"Loading dashboard..."})]})}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)(f.LoadingLogo,{size:60})})}a.s(["default",()=>g])}];

//# sourceMappingURL=_515383e6._.js.map