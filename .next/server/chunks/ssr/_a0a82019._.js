module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},89512,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(97895);function e({className:a,size:e=60}){return(0,b.jsxs)("div",{className:(0,d.cn)("relative flex items-center justify-center",a),children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-primary/20 rounded-full animate-ping opacity-75"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-primary/10 rounded-full animate-pulse delay-75"}),(0,b.jsx)("div",{className:"relative bg-background/80 backdrop-blur-sm rounded-full p-4 shadow-xl ring-1 ring-border/50 border border-primary/10",children:(0,b.jsx)(c.default,{src:"/logo.png",alt:"Loading...",width:e,height:e,className:"h-auto w-auto object-contain dark:invert animate-pulse duration-1000",priority:!0})})]})}a.s(["LoadingLogo",()=>e])},30656,a=>{"use strict";function b(a,[b,c]){return Math.min(c,Math.max(b,a))}a.s(["clamp",()=>b])},4699,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["default",()=>b])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},77991,a=>{"use strict";var b=a.i(4699);a.s(["ChevronDownIcon",()=>b.default])},77156,a=>{"use strict";let b=(0,a.i(70106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},17755,a=>{"use strict";let b=(0,a.i(70106).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>b],17755)},52431,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(15618),f=a.i(87532),g=a.i(17755),h=a.i(77156),i=a.i(70106);let j=(0,i.default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var k=a.i(81560);let l=(0,i.default)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),m=(0,i.default)("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);var n=a.i(89512),o=a.i(3130),p=a.i(5522),q=a.i(40695),r=a.i(54161),s=a.i(76504),t=a.i(87682),u=a.i(42521),v=a.i(78560);function w(){let[a,i]=(0,c.useState)([]),[w,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)("all"),[C,D]=(0,c.useState)(null);(0,c.useEffect)(()=>{!async function(){try{let{data:{user:a}}=await v.supabase.auth.getUser();if(a){let{data:b}=await v.supabase.from("user_profiles").select("role").eq("id",a.id).single();D(b?.role||"renter");let c=await (0,u.getOwnerData)(a.id);i(c||[])}}catch(a){console.error("Error fetching listings:",a)}finally{x(!1)}}()},[]);let E=a.filter(a=>{let b=a.title.toLowerCase().includes(y.toLowerCase()),c="all"===A||a.status===A;return b&&c});return w?(0,b.jsx)("div",{className:"flex justify-center py-20",children:(0,b.jsx)(n.LoadingLogo,{size:60})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"My Listings"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage your rental listings"})]}),"renter"!==C&&(0,b.jsx)(q.Button,{className:"bg-primary text-primary-foreground",asChild:!0,children:(0,b.jsxs)(d.default,{href:"/dashboard/listings/new",children:[(0,b.jsx)(e.Plus,{className:"h-4 w-4 mr-2"}),"New Listing"]})})]}),(0,b.jsx)(o.Card,{className:"glass-card",children:(0,b.jsx)(o.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(p.Input,{placeholder:"Search listings...",className:"pl-10",value:y,onChange:a=>z(a.target.value)})]}),(0,b.jsxs)(t.Select,{value:A,onValueChange:B,children:[(0,b.jsx)(t.SelectTrigger,{className:"w-full sm:w-40",children:(0,b.jsx)(t.SelectValue,{placeholder:"Status"})}),(0,b.jsxs)(t.SelectContent,{children:[(0,b.jsx)(t.SelectItem,{value:"all",children:"All Status"}),(0,b.jsx)(t.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(t.SelectItem,{value:"paused",children:"Paused"}),(0,b.jsx)(t.SelectItem,{value:"pending",children:"Pending"})]})]})]})})}),(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:E.map(a=>(0,b.jsxs)(o.Card,{className:"glass-card overflow-hidden",children:[(0,b.jsxs)("div",{className:"aspect-video relative",children:[(0,b.jsx)("img",{src:a.images?.[0]||"/placeholder.svg",alt:a.title,className:"w-full h-full object-cover"}),(0,b.jsx)(r.Badge,{className:`absolute top-3 right-3 ${"active"===a.status?"bg-green-500":"paused"===a.status?"bg-orange-500":"bg-gray-500"}`,children:a.status})]}),(0,b.jsxs)(o.CardContent,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold line-clamp-1",children:a.title}),(0,b.jsx)(r.Badge,{variant:"outline",className:"text-xs mt-1",children:"Listing"})]}),(0,b.jsxs)(s.DropdownMenu,{children:[(0,b.jsx)(s.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(q.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,b.jsx)(g.MoreHorizontal,{className:"h-4 w-4"})})}),(0,b.jsxs)(s.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(s.DropdownMenuItem,{children:[(0,b.jsx)(h.Eye,{className:"h-4 w-4 mr-2"}),"View"]}),"renter"!==C&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(s.DropdownMenuItem,{children:[(0,b.jsx)(j,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,b.jsx)(s.DropdownMenuItem,{children:"active"===a.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l,{className:"h-4 w-4 mr-2"}),"Pause"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m,{className:"h-4 w-4 mr-2"}),"Activate"]})}),(0,b.jsx)(s.DropdownMenuSeparator,{}),(0,b.jsxs)(s.DropdownMenuItem,{className:"text-destructive",children:[(0,b.jsx)(k.Trash2,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-3",children:[(0,b.jsxs)("span",{children:[a.views_count||0," views"]}),(0,b.jsxs)("span",{children:[a.rating_count||0," reviews"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"font-bold text-primary",children:["KSh ",a.price_per_day?.toLocaleString(),(0,b.jsx)("span",{className:"font-normal text-muted-foreground text-sm",children:"/day"})]}),(0,b.jsx)(q.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,b.jsx)(d.default,{href:`/listings/${a.id}`,children:"View"})})]})]})]},a.id))}),0===E.length&&(0,b.jsx)(o.Card,{className:"glass-card",children:(0,b.jsxs)(o.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"No listings found"}),"renter"!==C&&(0,b.jsx)(q.Button,{asChild:!0,children:(0,b.jsx)(d.default,{href:"/dashboard/listings/new",children:"Create Your First Listing"})})]})})]})}a.s(["MyListings",()=>w],52431)}];

//# sourceMappingURL=_a0a82019._.js.map