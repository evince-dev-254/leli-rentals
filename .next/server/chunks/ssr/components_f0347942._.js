module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},89512,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(97895);function e({className:a,size:e=60}){return(0,b.jsxs)("div",{className:(0,d.cn)("relative flex items-center justify-center",a),children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-primary/20 rounded-full animate-ping opacity-75"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-primary/10 rounded-full animate-pulse delay-75"}),(0,b.jsx)("div",{className:"relative bg-background/80 backdrop-blur-sm rounded-full p-4 shadow-xl ring-1 ring-border/50 border border-primary/10",children:(0,b.jsx)(c.default,{src:"/logo.png",alt:"Loading...",width:e,height:e,className:"h-auto w-auto object-contain dark:invert animate-pulse duration-1000",priority:!0})})]})}a.s(["LoadingLogo",()=>e])},86061,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(78560),f=a.i(42521),g=a.i(3130),h=a.i(40695),i=a.i(83497),j=a.i(27999),k=a.i(90166),l=a.i(70106);let m=(0,l.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),n=(0,l.default)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var o=a.i(45222),p=a.i(21161),q=a.i(89512);function r(){let[a,l]=(0,c.useState)(null),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(!0);if((0,c.useEffect)(()=>{(async()=>{let{data:{user:a}}=await e.supabase.auth.getUser();if(l(a),!a)return y(!1);try{let[b,c,d]=await Promise.all([(0,f.getOwnerData)(a.id),(0,f.getOwnerStats)(a.id),(0,f.getBookings)(a.id,"owner")]);s(b||[]),w(c),u(d||[])}catch(a){console.error(a)}finally{y(!1)}})()},[]),!a)return(0,b.jsx)("p",{className:"text-center",children:"Please sign in to view your dashboard."});if(x)return(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)(q.LoadingLogo,{size:60})});let z=[{label:"Total Listings",value:v?.listingsCount||0,icon:i.Package,change:"Updated just now"},{label:"Active Bookings",value:v?.activeBookingsCount||0,icon:j.CalendarCheck,change:"In progress"},{label:"Total Earnings",value:`KSh ${(v?.totalEarnings||0).toLocaleString()}`,icon:k.DollarSign,change:"Lifetime earnings"},{label:"Total Views",value:(v?.totalViews||0).toLocaleString(),icon:m,change:"All time views"}];return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Owner Dashboard"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Welcome back, ",a.email?.split("@")[0]||"User",". Here's what's happening today."]})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:z.map((a,c)=>(0,b.jsxs)(g.Card,{className:"glass-card",children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:a.label}),(0,b.jsx)(a.icon,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.value}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.change})]})]},c))}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[(0,b.jsxs)(g.Card,{className:"col-span-4 lg:col-span-4 glass-card",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Recent Listings"}),(0,b.jsxs)(g.CardDescription,{children:["You have ",r.length," total listings."]})]}),(0,b.jsx)(g.CardContent,{children:0===r.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"No listings yet"}),(0,b.jsx)(h.Button,{asChild:!0,children:(0,b.jsx)(d.default,{href:"/dashboard/listings/new",children:"Create Listing"})})]}):(0,b.jsx)("div",{className:"space-y-4",children:r.slice(0,5).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between border-b border-border/50 pb-4 last:border-0 last:pb-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded bg-secondary/50 flex items-center justify-center",children:(0,b.jsx)(i.Package,{className:"h-5 w-5 opacity-50"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Listing"})]})]}),(0,b.jsxs)("div",{className:"font-medium",children:["KSh ",a.price_per_day?.toLocaleString()]})]},a.id||c))})})]}),(0,b.jsxs)(g.Card,{className:"col-span-4 lg:col-span-3 glass-card",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Recent Bookings"}),(0,b.jsx)(g.CardDescription,{children:"Latest rental requests"})]}),(0,b.jsxs)(g.CardContent,{children:[0===t.length?(0,b.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No bookings yet"}):(0,b.jsx)("div",{className:"space-y-4",children:t.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 border-b border-border/50 pb-3 last:border-0 last:pb-0",children:[(0,b.jsx)("div",{className:`p-2 rounded-full ${"confirmed"===a.status?"bg-green-500/10":"bg-orange-500/10"}`,children:(0,b.jsx)(j.CalendarCheck,{className:`h-4 w-4 ${"confirmed"===a.status?"text-green-500":"text-orange-500"}`})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:a.listing?.title}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[new Date(a.start_date).toLocaleDateString()," â€¢ ",a.renter?.full_name]})]}),(0,b.jsxs)("div",{className:"text-sm font-semibold",children:["KSh ",a.total_amount?.toLocaleString()]})]},a.id))}),(0,b.jsx)(h.Button,{variant:"link",asChild:!0,className:"px-0 w-full mt-2",children:(0,b.jsx)(d.default,{href:"/dashboard/bookings",children:"View All Bookings"})})]})]}),(0,b.jsxs)(g.Card,{className:"col-span-3 lg:col-span-7 glass-card",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Quick Actions"}),(0,b.jsx)(g.CardDescription,{children:"Common tasks"})]}),(0,b.jsxs)(g.CardContent,{className:"grid gap-2",children:[(0,b.jsx)(h.Button,{asChild:!0,className:"w-full justify-start",variant:"outline",children:(0,b.jsxs)(d.default,{href:"/dashboard/listings/new",children:[(0,b.jsx)(n,{className:"mr-2 h-4 w-4"}),"Create New Listing"]})}),(0,b.jsx)(h.Button,{asChild:!0,className:"w-full justify-start",variant:"outline",children:(0,b.jsxs)(d.default,{href:"/dashboard/messages",children:[(0,b.jsx)(o.MessageCircle,{className:"mr-2 h-4 w-4"}),"View Messages"]})}),(0,b.jsx)(h.Button,{asChild:!0,className:"w-full justify-start",variant:"outline",children:(0,b.jsxs)(d.default,{href:"/dashboard/settings",children:[(0,b.jsx)(p.Settings,{className:"mr-2 h-4 w-4"}),"Account Settings"]})})]})]})]})]})}a.s(["default",()=>r],86061)}];

//# sourceMappingURL=components_f0347942._.js.map