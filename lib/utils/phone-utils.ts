export const SAFARICOM_PREFIXES = [
    '0700', '0701', '0702', '0703', '0704', '0705', '0706', '0707', '0708', '0709',
    '0710', '0711', '0712', '0713', '0714', '0715', '0716', '0717', '0718', '0719',
    '0720', '0721', '0722', '0723', '0724', '0725', '0726', '0727', '0728', '0729',
    '0740', '0741', '0742', '0743', '0744', '0745', '0746', '0748',
    '0757', '0758', '0759', '0768', '0769',
    '0790', '0791', '0792', '0793', '0794', '0795', '0796', '0797', '0798', '0799',
    '0110', '0111', '0112', '0113', '0114', '0115',
    '+25470', '+25471', '+25472', '+25474', '+254757', '+254758', '+254759', '+254768', '+254769', '+25479', '+25411'
]

export const AIRTEL_PREFIXES = [
    '0730', '0731', '0732', '0733', '0734', '0735', '0736', '0737', '0738', '0739',
    '0750', '0751', '0752', '0753', '0754', '0755', '0756',
    '0780', '0781', '0782', '0783', '0784', '0785', '0786', '0787', '0788', '0789',
    '0100', '0101', '0102',
    '+25473', '+254750', '+254751', '+254752', '+254753', '+254754', '+254755', '+254756', '+25478', '+25410'
]

export function detectKenyanProvider(phone: string): 'mpesa' | 'airtel' | 'bank' | null {
    const cleaned = phone.replace(/\s+/g, '')
    if (!cleaned) return null

    // Check for Safaricom/M-Pesa
    if (SAFARICOM_PREFIXES.some(prefix => cleaned.startsWith(prefix))) {
        return 'mpesa'
    }

    // Check for Airtel
    if (AIRTEL_PREFIXES.some(prefix => cleaned.startsWith(prefix))) {
        return 'airtel'
    }

    return null
}
